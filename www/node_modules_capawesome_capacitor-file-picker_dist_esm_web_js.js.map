{"version":3,"file":"node_modules_capawesome_capacitor-file-picker_dist_esm_web_js.js","mappings":"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","sources":["./node_modules/@capawesome/capacitor-file-picker/dist/esm/web.js"],"sourcesContent":["import { WebPlugin } from '@capacitor/core';\nexport class FilePickerWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.ERROR_PICK_FILE_CANCELED = 'pickFiles canceled.';\n    }\n    async convertHeicToJpeg(_options) {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async pickFiles(options) {\n        const pickedFiles = await this.openFilePicker(options);\n        if (!pickedFiles) {\n            throw new Error(this.ERROR_PICK_FILE_CANCELED);\n        }\n        const result = {\n            files: [],\n        };\n        for (const pickedFile of pickedFiles) {\n            const file = {\n                blob: pickedFile,\n                modifiedAt: pickedFile.lastModified,\n                mimeType: this.getMimeTypeFromUrl(pickedFile),\n                name: this.getNameFromUrl(pickedFile),\n                path: undefined,\n                size: this.getSizeFromUrl(pickedFile),\n            };\n            if (options === null || options === void 0 ? void 0 : options.readData) {\n                file.data = await this.getDataFromFile(pickedFile);\n            }\n            result.files.push(file);\n        }\n        return result;\n    }\n    async pickImages(_options) {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async pickMedia(_options) {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async pickVideos(_options) {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async openFilePicker(options) {\n        var _a;\n        const accept = ((_a = options === null || options === void 0 ? void 0 : options.types) === null || _a === void 0 ? void 0 : _a.join(',')) || '';\n        const multiple = !!(options === null || options === void 0 ? void 0 : options.multiple);\n        return new Promise(resolve => {\n            let onChangeFired = false;\n            const input = document.createElement('input');\n            input.type = 'file';\n            input.accept = accept;\n            input.multiple = multiple;\n            input.addEventListener('change', () => {\n                onChangeFired = true;\n                const files = Array.from(input.files || []);\n                resolve(files);\n            }, { once: true });\n            // Workaround to detect when Cancel is selected in the File Selection dialog box.\n            window.addEventListener('focus', async () => {\n                await this.wait(1000);\n                if (onChangeFired) {\n                    return;\n                }\n                resolve(undefined);\n            }, { once: true });\n            input.click();\n        });\n    }\n    async getDataFromFile(file) {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.readAsDataURL(file);\n            reader.onload = () => {\n                const result = typeof reader.result === 'string' ? reader.result : '';\n                const splittedResult = result.split('base64,');\n                const base64 = splittedResult[1] || '';\n                resolve(base64);\n            };\n            reader.onerror = error => {\n                reject(error);\n            };\n        });\n    }\n    getNameFromUrl(file) {\n        return file.name;\n    }\n    getMimeTypeFromUrl(file) {\n        return file.type;\n    }\n    getSizeFromUrl(file) {\n        return file.size;\n    }\n    async wait(delayMs) {\n        return new Promise(resolve => setTimeout(resolve, delayMs));\n    }\n}\n"],"names":["WebPlugin","FilePickerWeb","constructor","arguments","ERROR_PICK_FILE_CANCELED","convertHeicToJpeg","_options","unimplemented","pickFiles","options","pickedFiles","openFilePicker","Error","result","files","pickedFile","file","blob","modifiedAt","lastModified","mimeType","getMimeTypeFromUrl","name","getNameFromUrl","path","undefined","size","getSizeFromUrl","readData","data","getDataFromFile","push","pickImages","pickMedia","pickVideos","_a","accept","types","join","multiple","Promise","resolve","onChangeFired","input","document","createElement","type","addEventListener","Array","from","once","window","wait","click","reject","reader","FileReader","readAsDataURL","onload","splittedResult","split","base64","onerror","error","delayMs","setTimeout"],"sourceRoot":"webpack:///","x_google_ignoreList":[0]}