{"version":3,"file":"src_app_drive_drive_module_ts.js","mappings":"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","sources":["./src/app/components/file-item/file-item.component.ts","./src/app/drive/drive-routing.module.ts","./src/app/drive/drive.module.ts","./src/app/drive/drive.page.ts","./src/app/services/fair.service.ts","./src/app/services/ipfs.service.ts","./src/app/services/storage.service.ts","./src/app/services/swarm.service.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { File } from 'src/app/services/data.service';\n\n@Component({\n  selector: 'app-file-item',\n  templateUrl: './file-item.component.html',\n  styleUrls: ['./file-item.component.scss'],\n})\nexport class FileItemComponent  implements OnInit {\n\n  @Input() file?: File\n\n  constructor() { }\n\n  ngOnInit() {}\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DrivePage } from './drive.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DrivePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DrivePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DrivePageRoutingModule } from './drive-routing.module';\n\nimport { DrivePage } from './drive.page';\nimport { FileItemComponent } from '../components/file-item/file-item.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DrivePageRoutingModule,\n  ],\n  declarations: [DrivePage, FileItemComponent]\n})\nexport class DrivePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { RefresherCustomEvent } from '@ionic/angular';\nimport { DataService, File } from '../services/data.service';\nimport { FairService } from '../services/fair.service';\nimport { IpfsService } from '../services/ipfs.service';\nimport { StorageService } from '../services/storage.service';\nimport { SwarmService } from '../services/swarm.service';\n\n@Component({\n  selector: 'app-drive',\n  templateUrl: './drive.page.html',\n  styleUrls: ['./drive.page.scss'],\n})\nexport class DrivePage implements OnInit {\n\n  id: any;\n  drive: any;\n  files: File[] = []\n\n  constructor(\n    private route: ActivatedRoute, \n    private data: DataService,\n    private storage: StorageService,\n    private swarm: SwarmService,\n    private ipfs: IpfsService,\n    private fair: FairService) { \n    \n  }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.id = params['id'];\n    });\n    this.drive = this.data.getDriveById(this.id).name;\n    this.getFileList();\n  }\n\n  async refresh(ev: any) {\n    await this.getFileList();\n    setTimeout(() => {\n      (ev as RefresherCustomEvent).detail.complete();\n    }, 3000);\n  }\n\n  async getFileList() {\n    await this.storage.getFiles(this.id).then(data => {\n      this.files = data;\n    }).catch(() => {});\n  }\n\n  async upload(e: any) {\n    await this.storage.saveFile({ id: 'gfjhwf564ggg35g46', name: 'my picture 1'}, this.id).then(() => {});\n    //await this.getFileList();\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FairService {\n\n  constructor() { }\n}\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class IpfsService {\r\n\r\n  constructor() { }\r\n\r\n  async upload(file: any) {\r\n\r\n  }\r\n\r\n  async download(id: any) {\r\n    \r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { File } from './data.service';\nimport { Storage } from '@ionic/storage';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StorageService {\n\n  private SwarmStore = \"swarm\";\n  private IPFSStore = \"ipfs\";\n  private FairStore = \"fair\";\n\n  constructor(private storage: Storage) { \n    storage.ready();\n    storage.clear()\n  }\n\n  async saveFile(file: File, store: number) {\n    if(store == 0) {\n      await this.saveSwarm(file);\n    } else if(store == 1) {\n      await this.saveIPFS(file);\n    } else if(store == 2) {\n      await this.saveFair(file);\n    }\n  }\n\n  async getFiles(store: number): Promise<File[]> {\n    let files: File[] = [];\n    if(store == 0) {\n      await this.getSwarm().then(data => {\n        files = data\n      }).catch(e => {\n        console.log(e);\n      });\n    } else if(store == 1) {\n      await this.getIPFS().then(data => {\n        files = data\n      }).catch(e => {\n        console.log(e);\n      });\n    } else if(store == 2) {\n      await this.getFair().then(data => {\n        files = data\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n    return files;\n  }\n\n  private async saveSwarm(file: File) {\n\n  }\n\n  private async getSwarm(): Promise<File[]> {\n    return [];\n  }\n\n  async saveIPFS(file: File) {\n    await this.storage.get(this.IPFSStore).then(data => {\n      alert(data.length);\n      let files: File[] = data;\n      files.push(file);\n      this.storage.set(this.IPFSStore, files);\n      alert(data[1])\n    }).catch(e => {\n      this.storage.set(this.IPFSStore, [file]);\n    })\n  }\n\n  private async getIPFS(): Promise<File[]> {\n    let files: File[] = [];\n    await this.storage.get(this.IPFSStore).then((data) => {\n      files = data;\n    }).catch(e => {\n      \n    });\n    return files;\n  }\n\n  private async saveFair(file: File) {\n    \n  }\n\n  private async getFair(): Promise<File[]> {\n    return [];\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SwarmService {\n\n  constructor() { }\n}\n"],"names":["Component","ActivatedRoute","DataService","FairService","IpfsService","StorageService","SwarmService","DrivePage","constructor","route","data","storage","swarm","ipfs","fair","ngOnInit","params","subscribe","id","drive","getDriveById","name","getFileList","refresh","ev","setTimeout","detail","complete","getFiles","then","files","catch","upload","e","saveFile","selector","template","Injectable","file","download","providedIn","Storage","ready","clear","store","saveSwarm","saveIPFS","saveFair","getSwarm","console","log","getIPFS","getFair","get","IPFSStore","alert","length","push","set"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}